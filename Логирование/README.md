# Логирование
_ _ _
**Задачи** **журналирования:**
- Фиксация событий системы и сервисов (syslog)
- Аудит — событий безопасности, инциденты (auth.log)
- Исходные данные для мониторинга после агрегации (access.log)
- Отладка проблем и поиск сбоев (error.log)
- Восстановление действий до указанного момента (binlog)
- Аналитика и поведение пользователей (access.log)
- Сценарий для нагрузочного тестированиā (access.log)

  ## Типы логов
Типы логов
1. Текстовые
- Прямой записи: /var/log/nginx/access.log
- Через rsyslogd: /var/log/syslog
2. Бинарные (через systemd-journald): /var/log/journal/
3. База данных (Elasticsearch, MySQL)

  ### Текстовые логи
```
cat syslog | grep err  - фильтрация логов
```
```
tail -n 10 syslog  - показать последние 10 строк
```
```
tail -f syslog - смотреть лог в реальном времени
```
```
head -n 10 syslog - показать первые 10 строк лога
```
__nano /etc/rsyslog.d/50-default.conf__ - конфигурационный файл в котором можно настроить сбор логов    

__/etc/logrotate.d__  в системе сущетсвует ротация логов, старые логи сохраняются и сжимаются, в этом файле находятся файлы с настройками для каждого сервиса.   

__Ротация логов:__
- Хранение истории
- Сжатие старых логов
- Конфигурация /etc/logrotate.conf, /etc/logrotate.d/*
- Часто настройки ротации создаётся при установке пакета
- Скрипт запуска: /etc/cron.daily/logrotat

  ### Journald
  Современная система логирования   
__/etc/systemd/journald.conf__ - конфигурационный файл journad

