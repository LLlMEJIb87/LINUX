# ZABBIX
https://www.zabbix.com/documentation/7.0/ru/manual/introduction     

Zabbix — это универсальная система мониторинга, которая отслеживает динамику работы серверов и сетевого оборудования.    


Система позволяет получать данные о состоянии устройства: объёме памяти, скорости работы процессора, температуре машины, логах и др.. Помимо этого, Zabbix способна наблюдать за бизнес-метриками — к примеру, скоростью продажи продукта      

В работе использует модели как PULL так и PUSH

  <p align="center">
<image src="https://github.com/LLlMEJIb87/LINUX/blob/main/%D0%9C%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B3/Picture/zabbix_arhitectura.PNG">
</p>        

__Zabbix Proxy__ — это компонент системы мониторинга Zabbix, который служит посредником между сервером Zabbix и удалёнными узлами мониторинга. Он позволяет распределять нагрузку на сервер Zabbix и собирать данные в распределённых сетях.    
Основные функции Zabbix Proxy:    
1. Сбор данных — получает метрики от агентов, SNMP-устройств и других источников.
2. Буферизация данных — если связь с сервером Zabbix прерывается, прокси сохраняет данные и передаёт их при восстановлении связи.
3. Агрегация данных — снижает нагрузку на сервер, передавая уже обработанную информацию.
4. Мониторинг удалённых сетей — позволяет контролировать узлы, находящиеся за NAT или в изолированных сетях.
5. Облегчение масштабирования — помогает распределять нагрузку в больших инфраструктурах.


__Zabbix Agent__ — это программа, устанавливаемая на серверы и рабочие станции для сбора данных о состоянии системы (нагрузка CPU, использование памяти, состояние дисков, сетевой трафик и многое другое). Агент передаёт эти данные на сервер Zabbix или на Zabbix Proxy.    
Основные функции Zabbix Agent:     
1. Сбор данных — CPU, RAM, диски, сеть, работа сервисов и процессов.
2. Выполнение команд — сервер Zabbix может запускать команды на агенте для устранения проблем.
3. Работа с пользовательскими метриками — можно добавлять свои скрипты для сбора специфических данных.
4. Гибкость в настройке — агент может работать в активном и пассивном режимах.
  
  <p align="center">
<image src="https://github.com/LLlMEJIb87/LINUX/blob/main/%D0%9C%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B3/Picture/zabbix_sbor_danih.PNG">
</p>      

__Методы сбора данных__     
- Pull
   - Проверки сервисов
   - Пассивный агент
   - SSH/Telnet
- Push
   - Активный агент
   - Zabbix Trapper и SNMP Traps
   - Мониторинг лог-файлов

## Установка Zabbix
https://www.zabbix.com/download      

Выбираем OS и компоненты, сайт сам сгенирует  команды для установки. __Единственное нужно учитывать, что база данных  (которую планируем использовать) должна быть установлена изначально!__    

После установки нужно править конфиг nginx /etc/nginx/conf.d/zabbix.conf - тут нужно раскоментировать строку с портом.     
Для отображения русского языка , нужно сделать следующуее
```
locale-gen ru_RU.UTF-8 en_US.UTF-8 uk_UA.UTF-8
update-locale
systemctl restart php8
systemctl restart nginx
```

__Логин/пароль по умолчанию:__    
Admin/zabbix     

### Установка zabbix agent
https://www.zabbix.com/download    

Кофиг лежит по пути /etc/zabbix/zabbix_agent2.conf    

__основные изменения, которые потребуется внести__     
1. Если zabbix agent находится в passive режим (ждет запросы от сервера)
```
##### Passive checks related
Server=192.168.1.210
2. Если zabbix agent используется в active режиме (посылает запросы на сервер)
```
##### Active checks related
ServerActive=192.168.1.210
```
3. Общие 
```
### Option: ListenIP
ListenIP=0.0.0.0
### Option: Hostname
Hostname=zabbix_agent
```


## Настройка мониторинга 
Обзор базовых понятий Zabbix:   
- Host / Узел сети – Источник метрик. Логическое понятие. 1 физический хост может быть представлен несколькими узлами сети.
- Item / Элемент данных (ЭД) – Метрика или любые данные. То, что сервер получает с хоста.
- Trigger / Триггер – Описывает какие значения ЭД считаем аварией.
- Action / Действие – Способ реагировать на события. Например, отправлять уведомление при срабатывании триггера.
