# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –≥—Ä—É–ø–ø—ã. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è.
__–ë–∞—â–æ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è__   
 **AAA** 
- Authentication - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Å–≤–æ–µ–π –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏. –í–≤–æ–¥ –ª–æ–≥–∏–Ω–∞ –∏ –ø–∞—Ä–æ–ª—è.
- Authorization - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞–¥–µ–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∞–≤–∞–º–∏ (–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–∫–∏–º-–ª–∏–±–æ –æ–±—ä–µ–∫—Ç–∞–º)
- Accounting - –∑–∞–ø–∏—Å—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–∏—Ö —Å–æ–±—ã—Ç–∏—è—Ö    

- –£—Å–ª–æ–≤–∏—è –¥–ª—è –≤—Ö–æ–¥–∞
   - shell –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –∏ –±—ã—Ç—å –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–º –≤ /etc/shells
   - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–∞—Ä–æ–ª—å
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
   - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ shell –≤ /bin/nologin
   - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ expiry date –≤ –ø—Ä–æ—à–ª–æ–µ
   - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–∞—Ä–æ–ª—ã (–¥–µ–ª–∞–µ–º –µ–≥–æ –Ω–µ–ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–º, –¥–æ–±–∞–≤–ª—è—è "!")
- –§–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:     
/etc/login.defs



__–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è__     
1. /etc/passwd - —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π   
- –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –¶–∏—Ñ—Ä–æ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (UID)
- –¶–∏—Ñ—Ä–æ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Å–Ω–æ–≤–Ω–æ–π –≥—Ä—É–ø–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (GID)
- –ü–æ–ª–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –î–æ–º–∞—à–Ω–∏–π –∫–∞—Ç–∞–ª–æ–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –û–±–æ–ª–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É
2. /etc/group - –≥—Ä—É–ø–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ò–º—è –≥—Ä—É–ø–ø—ã
- –ü–∞—Ä–æ–ª—å –≥—Ä—É–ø–ø—ã
- –¶–∏—Ñ—Ä–æ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≥—Ä—É–ø–ø—ã (GID)
- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤—Ö–æ–¥—è—â–∏—Ö –≤ —ç—Ç—É –≥—Ä—É–ø–ø—É, –∫–∞–∫ –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é
- –û—Å–Ω–æ–≤–Ω–∞—è –≥—Ä—É–ø–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - –≤ /etc/passwd
3. /etc/shadow - –ø–∞—Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ –∏–º—è
- –ó–∞—Ö—ç—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å
- –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –¥–Ω–µ–π –º–µ–∂–¥—É –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –ø–∞—Ä–æ–ª—è
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –¥–Ω–µ–π –º–µ–∂–¥—É –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –ø–∞—Ä–æ–ª—è
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø–∞—Ä–æ–ª—è
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø–∞—Ä–æ–ª—è
- –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏
- –ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–ª–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –≤—Å–µ–≥–¥–∞ –ø—É—Å—Ç–æ–µ


**–¢–∏–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ Linux**
1. –°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å root (UID = 0)
- Home /root
- –ü–∞—Ä–æ–ª—å –Ω–µ –≤—Å–µ–≥–¥–∞
- –ï—Å—Ç—å shell
- –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø–æ–ª–Ω–æ–º–æ—á–∏—è
2. –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å user (UID > 1000)
- Home /home/user
- –ü–∞—Ä–æ–ª—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –ï—Å—Ç—å shell
- –î–æ—Å—Ç—É–ø –≤ —Ä–∞–º–∫–∞—Ö –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
3. –°–∏—Å—Ç–µ–º–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å daemon (UID < 1000)
- Home –õ—é–±–∞—è
- –ü–∞—Ä–æ–ªƒÅ –Ω–µ—Ç
- –ù–µ—Ç shell
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø

__–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏__    
- useradd - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- adduser - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å–∫—Ä–∏–ø—Ç)
- usermod - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- userdel - —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- passwd - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
- chage - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ –ø–∞—Ä–æ–ª—è
- groupadd - —Å–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã
- groupdel - —É–¥–∞–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã
- id - –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–π—Å—Ç–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

__–ú–µ—Ö–∞–Ω–∏–∑–º sudo__    
- su ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- sudo su ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (root)
- sudo ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã —Å –ø—Ä–∞–≤–∞–º–∏ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- /etc/sudoers ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è sudo

__–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º__   

<p align="center">
<image src="https://github.com/LLlMEJIb87/LINUX/blob/main/%D0%91%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C/Pictures/bits_dostup.PNG">
</p>    
  
 1. r - readable (—á—Ç–µ–Ω–∏–µ) - —Ü–∏—Ñ—Ä–æ–≤–æ–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ 4
- —Ñ–∞–π–ª —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞   
- –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∏–º–µ–Ω    
2. w - writeable (–∑–∞–ø–∏—Å—å) - —Ü–∏—Ñ—Ä–æ–≤–æ–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ 2
- —Ñ–∞–π–ª –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞    
- –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏   
3. x - executeable (–∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ) - —Ü–∏—Ñ—Ä–æ–≤–æ–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ 1
- —Ñ–∞–π–ª –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞    
- –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–æ—Å—Ç—É–ø –∫ inode –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (–≤—Ö–æ–¥, –ø–æ–∏—Å–∫)

 
-–æ–±—ã—á–Ω—ã–π —Ñ–∞–π–ª    
l - —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞    
d - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è   
b - –±–ª–æ—á–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Ç—Å–≤–æ    
—Å - —Å–∏–º–≤–æ–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ    
p - –∏–º–µ–Ω–Ω–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª    
s - UNIX-—Å–æ–∫–µ—Ç   

<p align="center">
<image src="https://github.com/LLlMEJIb87/LINUX/blob/main/%D0%91%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C/Pictures/spec_bits_dostup.PNG">
</p>        

https://www.gnu.org/software/coreutils/manual/html_node/Changing-Special-Mode-Bits.html    

__–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã —Ñ–∞–π–ª–æ–≤___   

 –ê—Ç—Ä–∏–±—É—Ç—ã
- a - —Ñ–∞–π–ª –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏ƒÅ
- A - –Ω–µ –æ–±–Ω–æ–≤–ª—è—Ç—å –≤—Ä–µ–º—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏
- c - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∂–∏–º–∞—Ç—å –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –Ω–∞ –¥–∏—Å–∫
- C - –æ—Ç–∫–ª—é—á—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏
- i - —Å–¥–µ–ª–∞—Ç—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º (–¥–∞–∂–µ –¥–ª—è root)
- s - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é –Ω—É–ª—è–º–∏    
```
 –ò–∑–º–µ–Ω–µ–Ω–∏–µ: chattr +i test_file
 –ü—Ä–æ—Å–º–æ—Ç—Ä: lsattr
```

## Access Control List  

<p align="center">
<image src="https://github.com/LLlMEJIb87/LINUX/blob/main/%D0%91%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C/Pictures/ACL.PNG">
</p>      

- –ü–æ–≤—ã—à–µ–Ω–∏–µ –≥–∏–±–∫–æ—Å—Ç–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
- –ú–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —É—Ç–∏–ª–∏—Ç
```
apt instal acl
```
- tune2fs -l /dev/mapper/ubuntu--vg-ubuntu--lv | grep acl
- setfacl -m u:zabbix:r test_file - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ACL
- setfacl -m d:u:vagrant:rwx -R /usr/local/upload/ - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ ACL (—Ç–æ–ª—å–∫–æ –¥–ª—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π)
- getfacl test_file - –ø–æ–∫–∞–∑–∞—Ç—å ACL
- setfacl -x u:zabbix FILE - —É–±—Ä–∞—Ç—å ACL

## Capabilitties
–ú–µ—Ö–∞–Ω–∏–∑–º capability (–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –ø–æ–ª–Ω–æ–º–æ—á–∏—è) –≤ Linux ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –≥—Ä–∞–Ω—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∞ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (root), —á—Ç–æ–±—ã –ø—Ä–æ—Ü–µ—Å—Å–∞–º –Ω–µ –Ω—É–∂–Ω–æ –±—ã–ª–æ –∏–º–µ—Ç—å –ø–æ–ª–Ω—ã–π root-–¥–æ—Å—Ç—É–ø, –∞ —Ç–æ–ª—å–∫–æ —Ç–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏–º —Ä–µ–∞–ª—å–Ω–æ –Ω—É–∂–Ω—ã. –≠—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã.   

__–ß—Ç–æ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ__    
–î–æ –ø–æ—è–≤–ª–µ–Ω–∏—è capability –≤ Linux –¥–µ–π—Å—Ç–≤–æ–≤–∞–ª–æ –ø—Ä–æ—Å—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ:
- –ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å UID = 0 (—Ç–æ –µ—Å—Ç—å root) ‚Üí –æ–Ω –º–æ–∂–µ—Ç –≤—Å—ë.
- –ï—Å–ª–∏ –Ω–µ root ‚Üí –ø–æ—á—Ç–∏ –Ω–∏—á–µ–≥–æ –∏–∑ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.        

__–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å —Å –ø–æ—è–≤–ª–µ–Ω–∏–µ–º capabilities__     
–°–µ–π—á–∞—Å –ø—Ä–∞–≤–∞ root —Ä–∞–∑–±–∏—Ç—ã –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏ ‚Äî capabilities, –∏ –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –µ–º—É –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏.     

–ù–∞–ø—Ä–∏–º–µ—Ä:

- CAP_NET_ADMIN ‚Äî —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–µ—Ç–µ–≤—ã–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏
- CAP_SYS_BOOT ‚Äî –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–∏—Å—Ç–µ–º—É
- CAP_CHOWN ‚Äî –º–µ–Ω—è—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Ñ–∞–π–ª–æ–≤

–ò —Ç–∞–∫ –¥–∞–ª–µ–µ. –í—Å–µ–≥–æ ~40 capability.     

__–ü—Ä–∏–º–µ—Ä: ping –±–µ–∑ root__     
–†–∞–Ω—å—à–µ ping —Ç—Ä–µ–±–æ–≤–∞–ª root, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç raw sockets. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ:
```
sudo setcap cap_net_raw+p /bin/ping
```
–ò –≤—Å—ë ‚Äî ping –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –æ–±—ã—á–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –Ω–æ –æ–Ω –Ω–µ –ø–æ–ª—É—á–∏—Ç –æ—Å—Ç–∞–ª—å–Ω—ã—Ö root-–ø—Ä–∏–≤–∏–ª–µ–≥–∏–π.     

### –í–∏–¥—ã capability-–Ω–∞–±–æ—Ä–æ–≤
–£ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –µ—Å—Ç—å –Ω–∞–±–æ—Ä—ã capability:
- Permitted	–ß—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- Effective	–ß—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç
- Inheritable	–ß—Ç–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –¥–æ—á–µ—Ä–Ω–∏–º –ø—Ä–æ—Ü–µ—Å—Å–∞–º
- Bounding	–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏
- Ambient	–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, —Å–æ—Ö—Ä–∞–Ω—è—é—â–∏–µ—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –Ω–µ-–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –±–∏–Ω–∞—Ä—è


### –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã

- getcap <—Ñ–∞–π–ª> ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å capability —Ñ–∞–π–ª–∞
- setcap cap_net_bind_service=+ep <—Ñ–∞–π–ª> ‚Äî –¥–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–ª—É—à–∞—Ç—å –ø–æ—Ä—Ç—ã <1024
- capsh --print ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å capability —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
- pscap <PID> ‚Äî –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å capability –ø—Ä–æ—Ü–µ—Å—Å–∞ (–∏–∑ –ø–∞–∫–µ—Ç–∞ libcap2-bin)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞
```
sudo apt install libcap2-bin
```

### –¢–∞–±–ª–∏—Ü–∞ Capability

## üßæ –¢–∞–±–ª–∏—Ü–∞ Linux Capabilities

| Capability              | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                       | –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è                         |
|-------------------------|------------------------------------------------------------------|-----------------------------------------------|
| **CAP_CHOWN**           | –ú–µ–Ω—è—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Ñ–∞–π–ª–æ–≤                                          | `chown`, FTP-—Å–µ—Ä–≤–µ—Ä                           |
| **CAP_DAC_OVERRIDE**    | –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (`read/write/exec`)                   | –ß—Ç–µ–Ω–∏–µ —á—É–∂–∏—Ö —Ñ–∞–π–ª–æ–≤                           |
| **CAP_DAC_READ_SEARCH** | –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ `read` –∏ `search` (–Ω–µ `write`)               | Backup-—Å–æ—Ñ—Ç, –∏–Ω–¥–µ–∫—Å–∞—Ç–æ—Ä—ã                      |
| **CAP_FOWNER**          | –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Ñ–∞–π–ª–æ–≤                        | –£–¥–∞–ª–µ–Ω–∏–µ —á—É–∂–∏—Ö —Å–æ–∫–µ—Ç–æ–≤                        |
| **CAP_FSETID**          | –°–æ—Ö—Ä–∞–Ω—è—Ç—å setuid/setgid –±–∏—Ç—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏                      | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∏–Ω–∞—Ä–µ–π —Å setuid                    |
| **CAP_KILL**            | –ü–æ—Å—ã–ª–∞—Ç—å —Å–∏–≥–Ω–∞–ª—ã —á—É–∂–∏–º –ø—Ä–æ—Ü–µ—Å—Å–∞–º                                | `kill`, system monitors                       |
| **CAP_SETGID**          | –ú–µ–Ω—è—Ç—å group ID –ø—Ä–æ—Ü–µ—Å—Å–∞                                        | `setgid`, PAM                                 |
| **CAP_SETUID**          | –ú–µ–Ω—è—Ç—å user ID –ø—Ä–æ—Ü–µ—Å—Å–∞                                         | `setuid`, PAM                                 |
| **CAP_SETPCAP**         | –ò–∑–º–µ–Ω—è—Ç—å capability —É –ø—Ä–æ—Ü–µ—Å—Å–∞                                  | –ö–æ–Ω—Ç—Ä–æ–ª—å –ø—Ä–∞–≤ –≤ runtime                       |
| **CAP_LINUX_IMMUTABLE** | –ú–µ–Ω—è—Ç—å —Ñ–ª–∞–≥ `immutable` —Ñ–∞–π–ª–æ–≤                                   | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–æ–≤ (`chattr +i`)             |
| **CAP_NET_BIND_SERVICE**| –°–ª—É—à–∞—Ç—å –ø–æ—Ä—Ç—ã <1024                                             | –í–µ–±-—Å–µ—Ä–≤–µ—Ä—ã (HTTP, HTTPS, DNS)               |
| **CAP_NET_BROADCAST**   | –û—Ç–ø—Ä–∞–≤–∫–∞ —à–∏—Ä–æ–∫–æ–≤–µ—â–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤                              | –°—Ç–∞—Ä—ã–µ —Å–µ—Ç–µ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã                        |
| **CAP_NET_ADMIN**       | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ç–µ–≤—ã–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏                                | `ip link`, `tc`, `brctl`, VPN                 |
| **CAP_NET_RAW**         | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ raw sockets                                       | `ping`, `traceroute`                          |
| **CAP_IPC_LOCK**        | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–∞–º—è—Ç–∏ –≤ RAM (mlock)                                 | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, OpenSSL                         |
| **CAP_IPC_OWNER**       | –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ IPC –æ–±—ä–µ–∫—Ç—ã                               | –û—á–µ—Ä–µ–¥–∏, —Å–µ–º–∞—Ñ–æ—Ä—ã                             |
| **CAP_SYS_MODULE**      | –ó–∞–≥—Ä—É–∂–∞—Ç—å –∏ –≤—ã–≥—Ä—É–∂–∞—Ç—å –º–æ–¥—É–ª–∏ —è–¥—Ä–∞                               | `modprobe`, `insmod`                          |
| **CAP_SYS_RAWIO**       | –î–æ—Å—Ç—É–ø –∫ `ioctl`, `ioperm`, `iopl`                              | –†–∞–±–æ—Ç–∞ —Å –∂–µ–ª–µ–∑–æ–º                              |
| **CAP_SYS_CHROOT**      | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `chroot()`                                        | Sandboxing, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã                        |
| **CAP_SYS_PTRACE**      | –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤                                    | `gdb`, `strace`, `perf`                       |
| **CAP_SYS_PACCT**       | –£—á–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ (`acct()`)                                      | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥                                    |
| **CAP_SYS_ADMIN**       | ‚ö†Ô∏è –û—á–µ–Ω—å –º–Ω–æ–≥–æ: mount, swap, loop, sysctl –∏ –¥—Ä.                | LVM, Docker, systemd                          |
| **CAP_SYS_BOOT**        | –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞, `reboot()`                                        | System manager, watchdog                      |
| **CAP_SYS_NICE**        | –ú–µ–Ω—è—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã (nice/rt)                                     | Realtime –ø—Ä–æ—Ü–µ—Å—Å—ã                             |
| **CAP_SYS_RESOURCE**    | –ò–∑–º–µ–Ω—è—Ç—å resource limits (`ulimit`)                             | `prlimit`, —Ä–µ—Å—É—Ä—Å–æ–µ–º–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã              |
| **CAP_SYS_TIME**        | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Ä–µ–º–µ–Ω–∏                                               | `date`, NTP                                   |
| **CAP_SYS_TTY_CONFIG**  | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ tty —É—Å—Ç—Ä–æ–π—Å—Ç–≤                                         | `stty`, —Å–µ—Ä–∏–π–Ω—ã–µ –∫–æ–Ω—Å–æ–ª–∏                      |
| **CAP_MKNOD**           | –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–µ—Ü. —Ñ–∞–π–ª–æ–≤ (device nodes)                            | `mknod`, udev                                 |
| **CAP_LEASE**           | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ file leases                                           | NFS, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏                               |
| **CAP_AUDIT_WRITE**     | –ó–∞–ø–∏—Å—å –≤ audit-–ª–æ–≥                                               | `auditd`                                      |
| **CAP_AUDIT_CONTROL**   | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ audit                                                 | `auditctl`                                    |
| **CAP_SETFCAP**         | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤—ã—Ö capability                                   | `setcap`                                      |
| **CAP_MAC_OVERRIDE**    | –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ MAC-–ø–æ–ª–∏—Ç–∏–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, SELinux)                  | –£—Ç–∏–ª–∏—Ç—ã –∞–¥–º–∏–Ω–∞                                |
| **CAP_MAC_ADMIN**       | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ MAC-–ø–æ–ª–∏—Ç–∏–∫–∞–º–∏                                      | SELinux, AppArmor                             |
| **CAP_SYSLOG**          | –ß—Ç–µ–Ω–∏–µ/–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —è–¥—Ä–æ–≤–æ–≥–æ –∂—É—Ä–Ω–∞–ª–∞                              | `dmesg`, `syslog`                             |
| **CAP_WAKE_ALARM**      | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–∞–π–º–µ—Ä–æ–≤ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è                                 | RTC, –Ω–æ—É—Ç–±—É–∫–∏                                 |
| **CAP_BLOCK_SUSPEND**   | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ suspend                                   | `pm-utils`, —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã                  |
| **CAP_AUDIT_READ**      | –ß—Ç–µ–Ω–∏–µ audit-–ª–æ–≥–æ–≤ —è–¥—Ä–∞                                        | –°–∏—Å—Ç–µ–º–Ω—ã–π –∞—É–¥–∏—Ç                               |


## Polkit
Polkit (—Ä–∞–Ω–µ–µ PolicyKit) ‚Äî —ç—Ç–æ –æ–¥–∏–Ω –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –≤ Linux –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –æ–ø–µ—Ä–∞—Ü–∏—è–º, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Å–∏—Å—Ç–µ–º–∞—Ö, –≥–¥–µ —Ä–∞–±–æ—Ç–∞—é—Ç GUI/desktop-–ø—Ä–æ–≥—Ä–∞–º–º—ã –∏–ª–∏ —Å–ª—É–∂–±—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –æ—Ç root.    

üß† –ß—Ç–æ —Ç–∞–∫–æ–µ Polkit

**Polkit** ‚Äî —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç **–∫–æ–Ω—Ç—Ä–æ–ª—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞**, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç:

> **–ú–æ–∂–Ω–æ –ª–∏ –ù–ï-root-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ**, –∏ –µ—Å–ª–∏ –¥–∞, **–Ω–∞ –∫–∞–∫–∏—Ö —É—Å–ª–æ–≤–∏—è—Ö**.

–û–Ω **–Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç `sudo`**, –∞ **–¥–æ–ø–æ–ª–Ω—è–µ—Ç –µ–≥–æ**, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ **—Å–ª—É–∂–± systemd**, **DBus**, **desktop-—É—Ç–∏–ª–∏—Ç**, `udisks`, `packagekit`, `network-manager` –∏ —Ç.–ø.
