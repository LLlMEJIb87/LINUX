# Пользователи и группы. Авторизацация и аутентификация.
__Бащовые понятия__   
 **AAA** 
- Authentication - аутентификация, идентификация, процесс подтверждения пользователем своей подлинности. Ввод логина и пароля.
- Authorization - авторизация, процесс наделения пользователя правами (предоставления доступа к каким-либо объектам)
- Accounting - запись информации о произошедших событиях    

- Условия для входа
   - shell должен существовать и быть перечисленным в /etc/shells
   - установлен пароль
- Блокировка пользователя:
   - установка shell в /bin/nologin
   - установка expiry date в прошлое
   - Блокировка паролы (делаем его непроверяемым, добавляя "!")
- Файл настроек для управления политиками при создании пользователей:     
/etc/login.defs



__Классическая аутентификация__     
1. /etc/passwd - список пользователей   
- Имя пользователя
- Цифровой идентификатор пользователя (UID)
- Цифровой идентификатор основной группы пользователя (GID)
- Полное имя пользователя
- Домашний каталог пользователя
- Оболочка входа в систему
2. /etc/group - группы пользователей
- Имя группы
- Пароль группы
- Цифровой идентификатор группы (GID)
- Список пользователей, входящих в эту группу, как в дополнительную
- Основная группа пользователя - в /etc/passwd
3. /etc/shadow - пароли пользователей
- Регистрационное имя
- Захэшифрованный пароль
- Дата последнего изменения пароля
- Минимальное число дней между изменениями пароля
- Максимальное число дней между изменениями пароля
- Количество дней до истечения срока действия пароля
- Количество дней по истечении срока действия пароля
- Срок действия учетной записи
- Зарезервированное поле, которое в настоящее время всегда пустое


**Типы пользователей в Linux**
1. Суперпользователь root (UID = 0)
- Home /root
- Пароль не всегда
- Есть shell
- Неограниченные полномочия
2. Обычный пользователь user (UID > 1000)
- Home /home/user
- Пароль установлен
- Есть shell
- Доступ в рамках домашней директории
3. Системный пользователь daemon (UID < 1000)
- Home Любая
- Паролā нет
- Нет shell
- Ограниченный доступ

__Управление пользователями__    
- useradd - создание пользователя
- adduser - создание пользователя (скрипт)
- usermod - изменение пользователя
- userdel - удаление пользователя
- passwd - изменение пароля
- chage - изменение свойств пароля
- groupadd - создание группы
- groupdel - удаление группы
- id - просмотр свойств пользователя

__Механизм sudo__    
- su — переключение пользователя
- sudo su — переключение на суперпользователя (root)
- sudo — выполнение команды с правами суперпользователя
- /etc/sudoers — конфигурация sudo

__Права доступа к файлам__   

<p align="center">
<image src="https://github.com/LLlMEJIb87/LINUX/blob/main/%D0%91%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C/Pictures/bits_dostup.PNG">
</p>    
  
 1. r    
- чтение файла   
- просмотр списка имен    
2. w    
- изменение файла    
- изменение объектов директории   
3. x   
- исполнение файла    
- доступ к inode в директории (вход, поиск)

 
-обычный файл    
l - символическая ссылка    
d - директория   
b - блочное устройтсво    
с - символьное устройство    
p - именнованный канал    
s - UNIX-сокет
